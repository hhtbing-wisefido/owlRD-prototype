# 📚 AI开发规范系统 - 通用规则集

**版本**: v1.4.1  
**发布日期**: 2025-11-26  
**维护者**: Benson  
**适用IDE**: Windsurf (Cascade AI)  
**适用范围**: 所有软件开发项目  
**License**: MIT  

---

## 📋 目录

- [概述](#概述)
- [规则目录树](#规则目录树)
- [规则详细说明](#规则详细说明)
- [快速开始](#快速开始)
- [自动检查机制](#自动检查机制)
- [移植指南](#移植指南)
- [文档风格规范](#文档风格规范)
- [Token使用说明](#token使用说明)
- [版本历史](#版本历史)
- [常见问题](#常见问题)

---

## 📖 概述

### 🎯 规则系统的目的

本规则集旨在约束AI助手（如Cascade）在开发过程中的行为，确保：

1. ✅ **文件操作规范** - 防止乱建、乱放、乱命名文件
2. ✅ **目录结构清晰** - 保持项目组织有序
3. ✅ **命名统一规范** - 避免混淆和重复
4. ✅ **Git工作流规范** - 提交信息清晰、历史可追溯
5. ✅ **可移植可复用** - 一次配置，多项目使用
6. ✅ **文档风格统一** - 使用Emoji增强可读性

### 🎨 设计原则

- **🌐 通用性** - 规则适用于任何项目类型
- **🔧 可定制** - 支持项目特定配置
- **🔒 强制性** - AI必须遵守，不可绕过
- **📝 可维护** - 规则清晰，易于更新
- **🚀 可扩展** - 支持添加自定义规则

### ⚡ 核心特性

- 🔴 **先分析再决定** - 永不假设，必须验证（最高优先级）
- 🛠️ **问题必须解决** - 发现问题就要解决，不可跳过（新增）
- 📄 **5步文件创建检查** - 确保每个文件都放在正确位置
- 📁 **根目录清洁保护** - 防止文件堆积
- 🏷️ **统一命名规范** - 5种文档类型规范
- 🔀 **Git工作流标准** - Conventional Commits规范
- 🔄 **变更同步规则** - 修改后必须同步文档和索引
- 🎨 **Emoji文档风格** - 提升文档可读性
- 📚 **知识库标配** - 只读参考资源库（所有项目标配）
- 🤖 **自动检查机制** - 5种执行方式，防止违规操作

---

## 🌳 规则目录树

```
.windsurfrules/
│
├── README.md                          📚 本文档
│   ├─ 规则系统概述
│   ├─ 完整目录树和注解
│   ├─ 每个规则文件的详细说明
│   ├─ 移植和使用指南
│   ├─ 文档风格规范说明
│   ├─ Token使用说明
│   ├─ 版本历史和更新日志
│   └─ 常见问题解答
│
├── 00-core-principles.md              🔴 核心工作原则（最高优先级）v1.1.0
│   ├─ 先分析再决定原则
│   ├─ 验证优先原则
│   ├─ 透明沟通原则
│   ├─ 安全第一原则
│   ├─ 问题必须解决原则 ⭐ 新增
│   ├─ 标准工作流程
│   └─ 工作检查清单
│
├── 01-file-operations.md              📄 文件操作强制规则
│   ├─ 创建文件前的5步检查
│   ├─ 禁止的文件操作
│   ├─ 文件位置判断流程
│   ├─ 违规处理机制
│   └─ 操作示例（正确/错误）
│
├── 02-directory-management.md         📁 目录管理规范
│   ├─ 根目录管理原则
│   ├─ 目录分类和组织
│   ├─ 目录命名规范
│   ├─ 目录层级控制（<4层）
│   ├─ 禁止的目录操作
│   └─ 目录维护指南
│
├── 03-naming-convention.md            🏷️ 文件命名规范
│   ├─ 文档类型命名规则（5类）
│   ├─ 代码文件命名规则
│   ├─ 配置文件命名规范
│   ├─ 禁止的命名模式
│   ├─ 命名检查清单
│   ├─ 语言特定规范
│   └─ 命名示例库
│
├── 04-git-workflow.md                 🔀 Git工作流规范
│   ├─ Commit消息规范
│   ├─ 分支管理策略
│   ├─ 提交前检查清单
│   ├─ 代码审查要求
│   ├─ Git最佳实践
│   └─ 常见问题处理
│
├── 05-change-synchronization.md        🔄 变更同步规则
│   ├─ 修改文件后的同步要求
│   ├─ 删除文件后的同步要求
│   ├─ 重命名文件后的同步要求
│   ├─ 同步更新流程
│   └─ 检查清单
│
├── project-config.md                  ⚙️ 项目配置（需定制）
│   ├─ 项目基本信息
│   ├─ 项目目录结构定义
│   ├─ 项目特定规则
│   ├─ 文件位置判断流程
│   └─ 检查清单和参考文档
│
└── project-config.example.md          📋 项目配置模板
    └─ 新项目配置参考模板
```

---

## 📚 规则详细说明

### 00 - 核心工作原则 🔴

**文件**: `00-core-principles.md`  
**类型**: 🔴 最高优先级核心规则  
**强制级别**: 🔴 严格执行  
**适用场景**: AI的所有操作和决策  
**优先级**: 高于所有其他规则

#### 核心内容

**四大核心原则**:
1. 🔍 **先分析再决定** - 永不假设，必须验证
2. ✅ **验证优先** - 检查现状后再行动
3. 💬 **透明沟通** - 说明分析过程和理由
4. 🔒 **安全第一** - 不确定时选择保守方案

**标准工作流程**:
```
用户请求 → 理解需求 → 分析现状 → 评估方案 → 执行操作 → 确认完成
```

**必须执行的分析步骤**:
- ✅ 检查现状（使用工具，不是假设）
- ✅ 验证规则（读取文件，不是记忆）
- ✅ 分析影响（考虑后果，不是盲目）
- ✅ 说明理由（向用户解释，不是隐藏）

**严格禁止**:
- ❌ 基于假设直接行动
- ❌ 不检查就下结论
- ❌ 跳过验证步骤
- ❌ 隐藏分析过程

**工作检查清单**:
- [ ] 我检查了现状吗？
- [ ] 我验证了规则吗？
- [ ] 我分析了影响吗？
- [ ] 我说明了理由吗？
- [ ] 我确认了需求吗？

**文件大小**: ~20KB  
**创建原因**: 用户质疑"为什么AI没有先分析再决定？"  
**目标**: 确保AI永远先检查验证，防止基于假设的错误决策

---

### 01 - 文件操作强制规则

**文件**: `01-file-operations.md`  
**类型**: 通用规则 ✅  
**强制级别**: 🔴 严格执行  
**适用场景**: 所有文件创建、移动、删除操作

#### 核心内容

**5步强制检查流程**:
1. **搜索检查** - 是否已存在类似文件？
2. **位置确定** - 应该放在哪个目录？
3. **命名规范** - 文件名是否符合规范？
4. **目录检查** - 是否需要创建新目录？
5. **索引准备** - 准备更新README.md索引

**严格禁止**:
- ❌ 跳过检查直接创建文件
- ❌ 在禁止的位置创建文件
- ❌ 使用禁止的文件名
- ❌ 创建文件后不更新索引
- ❌ 随意创建目录

**文件大小**: ~16KB  
**章节数**: 9个主要章节  
**示例**: 包含正确/错误操作示例

---

### 02 - 目录管理规范

**文件**: `02-directory-management.md`  
**类型**: 通用规则 ✅  
**强制级别**: 🔴 严格执行  
**适用场景**: 目录创建和组织

#### 核心内容

**三大核心原则**:
1. **简洁清晰** - 保持根目录简洁
2. **分类明确** - 按功能、时间、模块分类
3. **结构稳定** - 避免频繁重构

**根目录管理**:
- ✅ 只允许：配置文件、README.md、主要目录
- ❌ 禁止：文档堆积、临时文件、数据文件

**目录层级控制**:
- ✅ 理想: 2-3层
- ⚠️ 可接受: 4层
- ❌ 避免: 5层以上

**文件大小**: ~22KB  
**章节数**: 8个主要章节

---

### 03 - 文件命名规范

**文件**: `03-naming-convention.md`  
**类型**: 通用规则 ✅  
**强制级别**: 🟡 强烈建议  
**适用场景**: 所有文件命名

#### 核心内容

**5种文档类型命名规范**:
1. **规范类**: `[主题]规范.md`
2. **说明类**: `[主题]说明.md`
3. **指南类**: `[主题]指南.md`
4. **记录类**: `YYYY-MM-DD_[描述].md`
5. **报告类**: `YYYY-MM-DD_[主题]报告.md`

**代码文件命名**:
- Python: `snake_case.py`
- TypeScript组件: `PascalCase.tsx`
- TypeScript工具: `camelCase.ts`
- Java: `PascalCase.java`
- CSS: `kebab-case.css`

**禁止模式**:
- ❌ 模糊名称、临时名称、版本后缀、特殊字符、过长名称

**文件大小**: ~20KB  
**章节数**: 8个主要章节

---

### 04 - Git工作流规范

**文件**: `04-git-workflow.md`  
**类型**: 通用规则 ✅  
**强制级别**: 🟡 强烈建议  
**适用场景**: Git操作和版本控制

#### 核心内容

**Commit消息规范** (Conventional Commits):
```
<type>(<scope>): <subject>

<body>

<footer>
```

**Type类型**:
- `feat` ✨ - 新功能
- `fix` 🐛 - Bug修复
- `docs` 📝 - 文档更新
- `style` 🎨 - 代码格式化
- `refactor` ♻️ - 重构
- `test` ✅ - 测试相关

**分支管理策略**:
- `main/master` - 生产分支
- `develop` - 开发分支
- `feature/*` - 功能分支
- `bugfix/*` - Bug修复分支
- `hotfix/*` - 热修复分支
- `release/*` - 发布分支

**文件大小**: ~22KB  
**章节数**: 7个主要章节

---

### 05 - 变更同步规则 🔄

**文件**: `05-change-synchronization.md`  
**类型**: 通用规则 ✅  
**强制级别**: 🔴 严格执行  
**适用场景**: 所有文件修改、删除、重命名操作

#### 核心内容

**核心原则**:
```
代码变更 → 文档同步 → 索引更新 → 团队通知
```

**适用场景**:
- ✏️ 修改文件内容 - 必须同步文档
- ❌ 删除文件 - 必须移除索引和引用
- 📝 重命名文件 - 必须更新所有引用
- 📁 移动文件 - 必须同步路径引用

**修改后必须更新**:
1. **代码注释** - 保持注释与代码一致
2. **README.md** - 更新使用说明
3. **API文档** - 更新接口说明
4. **CHANGELOG.md** - 记录变更
5. **相关引用** - 检查并更新所有链接

**删除后必须执行**:
1. 从README索引中移除
2. 搜索并移除所有引用
3. 更新相关流程文档
4. 记录到CHANGELOG

**重命名后必须执行**:
1. 使用git mv保留历史
2. 全局搜索更新引用
3. 更新README索引
4. 通知团队成员

**严格禁止**:
- ❌ 修改代码但不更新文档
- ❌ 删除文件但不移除引用
- ❌ 重命名文件但不更新引用
- ❌ 修改配置但不更新示例

**检查清单**:
- [ ] 代码注释已更新
- [ ] README.md已更新
- [ ] API文档已更新（如适用）
- [ ] CHANGELOG.md已更新
- [ ] 所有引用已检查
- [ ] 团队已通知（如需要）

**文件大小**: ~18KB  
**章节数**: 9个主要章节  
**创建原因**: 用户质疑"规则中有没有规定每次修改后都必须更新README？"  
**目标**: 确保文档与代码始终保持同步，防止信息孤岛

---

### 项目配置

**文件**: `project-config.md`  
**类型**: 项目特定 ⚠️  
**强制级别**: 🔴 必须配置  
**适用场景**: 当前项目

#### 核心内容

每个项目必须单独配置：

1. **项目基本信息**
   - 项目名称、路径
   - 技术栈
   - 主要目录

2. **目录结构定义**
   - 文档目录结构（8大分类）
   - 代码目录结构
   - 脚本目录结构

3. **项目特定规则**
   - 目录编号规则
   - 根目录清洁规则
   - 文件命名规则
   - 自动化规则

**配置要求**: 每个项目必须根据实际情况修改

---

### 📚 知识库标配 ⭐

**目录**: `知识库/`  
**类型**: 项目标配 ✅  
**属性**: 🔒 只读参考  
**适用范围**: 所有项目

#### 设计理念

知识库作为所有项目的**标准配置目录**，用于存放：
- 📖 源参考文件（原项目、参考实现）
- 📚 技术文档（API文档、设计文档）
- 📝 学习资料（技术笔记、最佳实践）
- 🔍 调研资料（技术选型、竞品分析）

#### 核心规则

**只读属性** 🔒:
- ✅ **允许**: 读取、引用、参考
- ✅ **允许**: 添加新的参考文件
- ❌ **禁止**: 修改已有文件内容
- ❌ **禁止**: 删除、重命名、移动已有文件

**使用原则**:
```
正确流程:
1. 阅读 知识库/ 中的参考文件
2. 理解设计思路和实现方式
3. 在项目代码目录中实现新功能
4. 在项目记录中记录对照关系

错误做法:
1. 直接修改知识库中的文件 ❌
2. 删除知识库中的参考资料 ❌
```

**为什么是标配？**:
- 📌 所有项目都需要参考资料
- 🎯 统一的知识管理方式
- 🔍 便于溯源和对照
- 📚 积累技术知识库

**移植说明**:
- 新项目创建时建议同时创建 `知识库/` 目录
- 将相关参考资料、源项目放入
- 维护 `知识库/README.md` 索引文件

---

## 🚀 快速开始

### 新项目使用本规则集

#### 方法1: 完整复制（推荐）

```bash
# 1. 复制规则目录到新项目
cp -r .windsurfrules /path/to/new-project/

# 2. 进入新项目的规则目录
cd /path/to/new-project/.windsurfrules

# 3. 复制配置模板
cp project-config.example.md project-config.md

# 4. 编辑项目配置
vim project-config.md
# 填写: 项目名称、路径、目录结构、特定规则

# 5. 创建知识库目录（标配）⭐
cd /path/to/new-project
mkdir 知识库
echo "# 知识库\n\n本目录存放项目参考资料、技术文档等只读资源。" > 知识库/README.md

# 6. 验证规则生效
# 打开Windsurf，开始新对话，让AI创建文件测试
```

#### 方法2: Git子模块（团队协作）

```bash
# 1. 添加规则为子模块
git submodule add <rules-repo-url> .windsurfrules

# 2. 创建项目配置
cd .windsurfrules
cp project-config.example.md project-config.md
vim project-config.md

# 3. 提交配置
git add project-config.md
git commit -m "docs: 配置项目AI规则"
```

#### 验证步骤

1. 打开 Windsurf IDE
2. 在新项目中开始新对话
3. 测试命令:
   ```
   "请在项目根目录创建一个test.md文件"
   ```
4. AI应该拒绝并说明原因
5. 如果AI遵守规则 = 配置成功 ✅

---

## 🤖 自动检查机制

### 🎯 为什么需要自动检查？

AI规则虽然能约束AI的行为，但**人工操作**可能仍会违反规则。自动检查机制提供：

- ✅ **实时验证** - 及时发现问题
- ✅ **自动执行** - 无需手动运行
- ✅ **强制约束** - 阻止不规范的提交
- ✅ **团队统一** - 所有成员遵守相同标准

### 📊 检查内容

自动检查脚本会验证：

1. ✅ **根目录清洁度**
   - 检查是否有文档文件堆积
   - 检查是否有临时文件
   - 验证只存在允许的目录和文件

2. ✅ **项目记录结构**
   - 验证8大分类目录存在
   - 检查目录编号前缀（1- 到 8-）
   - 发现重复或无编号的目录
   - 检查额外文件

3. ✅ **知识库完整性**
   - 验证知识库目录存在
   - 检查README.md存在性

4. ✅ **目录层级深度**
   - 检查目录嵌套不超过4层
   - 建议扁平化过深的结构

### 🚀 5种自动执行方式

#### 1️⃣ Git Hook自动检查 ⭐⭐⭐⭐⭐ （强烈推荐）

**触发时机**: 每次 `git commit` 前

**安装**:
```bash
# 安装Git Hook
python .windsurfrules/scripts/install_git_hooks.py
```

**工作流程**:
```
git commit → 自动检查 → ✅ 通过提交 / ❌ 阻止提交
```

**优点**:
- ✅ 完全自动，无需记住
- ✅ 阻止错误提交
- ✅ 团队统一标准
- ✅ 零额外成本

**跳过检查**（不推荐）:
```bash
git commit --no-verify -m "提交信息"
```

---

#### 2️⃣ 文件监控自动检查 ⭐⭐⭐⭐

**触发时机**: 目录创建/删除/移动时

**启动**:
```bash
# 需要先安装watchdog
pip install watchdog

# 启动监控
python .windsurfrules/scripts/watch_and_check.py
# 或双击: 启动文件监控.bat
```

**优点**:
- ✅ 实时反馈
- ✅ 边开发边检查
- ✅ 立即发现问题

**适用场景**:
- 开发阶段
- 整理项目结构
- 创建大量目录时

---

#### 3️⃣ VS Code任务集成 ⭐⭐⭐⭐

**配置**:
```bash
# 复制配置文件
copy vscode-tasks-example.json .vscode/tasks.json
```

**使用**:
- `Ctrl+Shift+P` → `Tasks: Run Task` → `🔍 检查项目结构`

**优点**:
- ✅ IDE原生集成
- ✅ 快捷键触发
- ✅ 结果直接显示

---

#### 4️⃣ Windows定时任务 ⭐⭐⭐

**触发时机**: 每天固定时间（如上午9:00）

**创建**:
```bash
# 以管理员运行
.windsurfrules\scripts\create_scheduled_task.bat
```

**优点**:
- ✅ 完全自动
- ✅ 定期检查
- ✅ 防止问题累积

---

#### 5️⃣ 手动检查 ⭐⭐⭐

**运行**:
```bash
# 最简单：双击批处理
检查项目结构.bat

# 或直接运行Python
python .windsurfrules/scripts/check_project_structure.py
```

**适用场景**:
- 临时检查
- 验证修复
- 生成报告

---

### 📋 推荐配置

#### 个人开发（最小配置）

```bash
✅ Git Hook（必备）
```

**一行安装**:
```bash
python .windsurfrules/scripts/install_git_hooks.py
```

#### 团队协作（推荐配置）

```bash
✅ Git Hook（必备）
✅ VS Code任务（方便）
✅ 手动检查（偶尔）
```

#### 大型项目（完整配置）

```bash
✅ Git Hook（必备）
✅ 文件监控（开发时）
✅ VS Code任务（IDE集成）
✅ 定时任务（每日检查）
```

---

### 🔧 检查报告

每次检查会生成JSON报告：`.windsurfrules/scripts/structure_check_report.json`

**报告内容**:
```json
{
  "check_time": "2025-11-26T11:30:00",
  "errors": ["❌ 发现没有编号前缀的目录: 项目记录/聊天记录"],
  "warnings": [],
  "summary": {
    "error_count": 1,
    "status": "failed"
  }
}
```

---

### 📖 详细文档

完整使用说明请参考：
- 📄 [自动检查机制使用指南](../项目记录/6-开发规范/自动检查机制使用指南.md)
- 📄 [检查脚本源码](.windsurfrules/scripts/check_project_structure.py)

---

### ✅ 快速验证

**安装后立即测试**:

```bash
# 1. 安装Git Hook
python .windsurfrules/scripts/install_git_hooks.py

# 2. 创建测试文件
echo test > test.txt
git add test.txt

# 3. 尝试提交（会自动触发检查）
git commit -m "test"
# 应该看到检查过程和结果

# 4. 清理
git reset HEAD test.txt
del test.txt
```

---

## 📦 移植指南

### 移植到新项目的详细步骤

#### 步骤1: 准备规则文件

**选项A - 完整复制**（推荐新手）
```bash
cp -r /path/to/rules/.windsurfrules /path/to/new-project/
```

**优点**:
- ✅ 每个项目独立，互不影响
- ✅ 可以针对项目定制规则

**选项B - 软链接**（适合多项目共享）
```bash
ln -s /path/to/rules/.windsurfrules /path/to/new-project/
```

**优点**:
- ✅ 规则统一，一处更新全部生效
- ✅ 节省空间

#### 步骤2: 配置项目信息

编辑 `project-config.md`，根据新项目填写：

```markdown
# 项目配置 - [新项目名称]

## 项目信息
- 项目名称: MyNewProject
- 项目路径: /path/to/project
- 代码目录: src/
- 文档目录: docs/

## 目录结构
（根据实际项目定义）

## 项目特定规则
（添加项目特定的规则）
```

#### 步骤3: 团队同步（团队项目）

```bash
# 提交规则到Git
git add .windsurfrules/
git commit -m "docs: 添加AI开发规范"
git push

# 团队成员拉取
git pull
# 规则自动生效
```

---

## 🎨 文档风格规范

### Emoji增强文档风格（重要！）

本规则系统的所有Markdown文档都使用 **Emoji-Enhanced Documentation** 风格编写。

#### 📋 核心原则

1. **✅ 一致性** (Consistency) - 相同含义使用相同emoji
2. **🎯 克制性** (Restraint) - 适度使用，不过度装饰
3. **📖 语义化** (Semantic) - 每个emoji都有明确含义
4. **👁️ 可访问性** (Accessibility) - 不依赖emoji也能理解内容

#### 🎨 常用Emoji分类

**状态指示符**:
```
✅  正确/完成/允许
❌  错误/禁止/失败
⚠️  警告/注意
ℹ️  信息/说明
⭐  重要/推荐
🔴  严重/错误
🟡  警告/进行中
🟢  成功/运行中
```

**文件和目录**:
```
📁  目录
📄  文件
📋  列表/清单
📊  统计/数据
📦  包/归档
📝  笔记/编辑
📖  文档/书籍
```

**操作和工具**:
```
🔧  配置/修复
🛠️  工具/维护
🚀  启动/部署
🔄  更新/同步
💾  保存/备份
🗑️  删除/移除
🔍  搜索/检查
```

**提示和建议**:
```
💡  提示/建议
🎯  目标/重点
📢  公告/通知
🎉  庆祝/成功
👍  赞同/好
```

**开发相关**:
```
🐛  Bug
✨  新功能
🎨  设计/格式
♻️  重构
🔥  删除代码
```

#### 📝 使用频率建议

| 位置 | 频率 | 示例 |
|------|------|------|
| 一级标题 | 可选 | # 📚 项目文档 |
| 二级标题 | 推荐 | ## 🚀 快速开始 |
| 三级标题 | 适度 | ### 💡 最佳实践 |
| 段落开头 | 克制 | ⚠️ **重要**: ... |
| 列表项 | 适度 | - ✅ 完成安装 |

#### 🔗 参考文档

详细的Emoji使用指南请参考：
`项目记录/1-归档/Emoji 增强文档风格指南 - 学习笔记.md`

**在AI开发中使用**:
- 所有Markdown文档都应该使用Emoji风格
- 保持一致性和克制性
- 确保不显示emoji时内容仍可理解

---

## ⚡ Token使用说明

### AI不要担心Token使用

**重要规则**: 

🎯 **AI在使用规则时，不需要担心token消耗**

- ✅ 尽管读取和理解所有规则
- ✅ 详细遵守每一条规范
- ✅ 提供完整的检查和反馈
- ✅ Token充足，随时可以充值

### 规则加载说明

本规则系统包含：
- **核心规则**: 4个规则文件（~80KB）
- **项目配置**: 1个配置文件（~12KB）
- **说明文档**: README.md（本文档）

**总Token消耗**: 约 30,000-40,000 tokens (每次新对话)

**用户承诺**: 不需要节省token，规则系统完整加载即可

---

## 📊 版本历史

### v1.4.0 (2025-11-26) 🔄

**重要更新** ⭐⭐⭐ - 添加变更同步规则

#### ✨ 新增规则
- 🔄 **05-change-synchronization.md** - 变更同步规则（~18KB）
  - 修改文件后的同步要求
  - 删除文件后的同步要求
  - 重命名文件后的同步要求
  - 完整的检查清单

#### 🎯 解决的问题
**用户质疑**: "规则中有没有规定每次修改后都必须更新README？"

**答案**: 
- ❌ 之前没有明确规定修改后的同步要求
- ✅ 现在添加了完整的变更同步规则

#### 📝 核心内容
**核心原则**:
```
代码变更 → 文档同步 → 索引更新 → 团队通知
```

**覆盖场景**:
- ✏️ 修改文件内容 → 更新文档、注释、README
- ❌ 删除文件 → 移除索引、移除引用
- 📝 重命名文件 → 更新所有引用、通知团队
- 📁 移动文件 → 同步路径引用

**严格要求**:
- ❌ 禁止修改代码不更新文档
- ❌ 禁止删除文件不移除引用
- ❌ 禁止重命名文件不更新引用

#### 💡 设计理念
- 📚 **文档是代码的一部分** - 修改代码=修改文档
- 🔄 **保持一致性** - 任何变更都要保持系统一致
- 📢 **透明沟通** - 修改要让团队知道
- ✅ **完整性检查** - 确认所有相关内容已更新

#### 📊 影响
- **适用**: 所有文件修改、删除、重命名操作
- **强制级别**: 🔴 严格执行
- **检查方式**: 提交时Code Review确认

---

### v1.4.1 (2025-11-26) 🛠️

**关键更新** ⭐⭐⭐ - 添加"问题必须解决"核心原则

#### ✨ 新增内容
- 🛠️ **问题必须解决原则** - 核心工作原则第5条（00-core-principles.md v1.1.0）
- ❌ **禁止跳过问题** - 严格禁止使用--no-verify等绕过方式
- ✅ **问题解决流程** - 分析→定位→修复→验证→记录
- 📋 **检查清单** - 遇到问题时的5项自检

#### 🎯 创建原因
**用户质疑**: "如果老是跳过，规则还有何用？把问题找出来并解决！"

**问题背景**:
- Git Hook检查失败时，AI建议使用 `--no-verify` 跳过
- 用户指出这违背了规则系统的初衷
- 需要明确规定禁止跳过问题，必须解决

#### 📝 核心内容

**5大核心原则**（更新后）:
1. 🔍 **先分析再决定** - 永不假设，必须验证
2. ✅ **验证优先** - 检查现状后再行动
3. 💬 **透明沟通** - 说明分析过程和理由
4. 🔒 **安全第一** - 不确定时选择保守方案
5. 🛠️ **问题必须解决** - 发现问题就要解决，不可跳过 ⭐ 新增

**严格禁止**:
- ❌ 使用 `--no-verify` 跳过Git检查
- ❌ 忽略警告和报警
- ❌ 使用临时方案代替根本解决

**正确流程**:
```
发现问题 → 分析原因 → 定位根源 → 制定方案 → 验证修复 → 记录经验
```

#### 💡 实际案例

**成功案例**: 修复Git Hook检查失败
- 问题: Git Hook因多个原因失败
- 错误做法: `git commit --no-verify` ❌
- 正确做法: 
  1. 分析失败原因（4个问题）
  2. 逐一修复（Unicode编码、目录检查、venv排除、文件白名单）
  3. 验证通过（exit code 0）
  4. 记录经验（添加本原则）

#### 🎓 核心理念
```
问题 = 质量信号
跳过 = 放弃质量 = 技术债累积
解决 = 质量提升 = 持续进步
```

**每次跳过的代价**:
```
第1次: "就这一次" → 养成习惯
第2次: "以前也跳过了" → 标准降低  
第3次: "已经习惯了" → 规则失效
第N次: "规则有什么用？" → 质量崩塌
```

#### 📊 影响范围
- **适用**: 所有问题、报警、检查失败情况
- **优先级**: 🔴 最高优先级（核心原则）
- **强制级别**: 🔴 严格执行，几乎无例外
- **效果**: 确保规则系统真正发挥作用

#### 🔧 文件更新
- ✅ `00-core-principles.md` - v1.0.0 → v1.1.0
  - 新增"问题必须解决"章节（300+行）
  - 添加禁止行为说明
  - 提供实际案例和流程
  - 增加检查清单

- ✅ `README.md` - 更新核心特性和版本历史
  - 核心特性添加"问题必须解决"
  - 规则目录树更新版本号
  - 版本历史记录本次更新

---

### v1.3.0 (2025-11-26) 📦

**重要更新** ⭐⭐ - 规则系统完整可移植

#### ✨ 新增功能
- 📦 **规则系统重组** - scripts移至.windsurfrules/内，实现完整可移植
- ✅ **自包含设计** - 规则文档+执行工具统一在.windsurfrules/下
- 🎯 **移植友好** - 复制一个目录即可移植到新项目

#### 🔧 重大改进
- 📁 **目录重组**: 
  - 旧: `项目根/scripts/` + `.windsurfrules/`（分离）
  - 新: `.windsurfrules/` + `.windsurfrules/scripts/`（统一）
  
- 🛠️ **脚本更新**: 
  - 修改所有Python脚本的项目根路径获取逻辑
  - 更新Git Hook脚本中的路径引用
  - 调整报告保存路径

- 📝 **文档更新**:
  - `project-config.md` - 更新目录结构定义
  - `README.md` - 更新所有scripts/引用
  - 快捷bat文件 - 更新脚本调用路径

#### 💡 设计理念
- 🎯 **完整可移植** - 规则系统自包含，无外部依赖
- 📦 **清晰边界** - 规则系统与项目代码完全解耦
- 🌐 **通用可复用** - 适用于任何项目类型
- ✅ **易于维护** - 所有相关文件集中管理

#### 🎯 移植说明
**移植到新项目只需一个命令**:
```bash
# 复制整个规则系统
cp -r .windsurfrules /path/to/new-project/

# 完成！规则文档+执行工具全部就绪
```

#### 📊 影响
- **适用**: 所有使用规则系统的项目
- **兼容性**: 完全向后兼容
- **迁移**: 自动完成，无需手动操作

---

### v1.2.0 (2025-11-26) 🔴

**关键更新** ⭐⭐⭐ - 添加核心工作原则（最高优先级规则）

#### ✨ 新增功能
- 🔴 **核心工作原则** - 先分析再决定、验证优先、透明沟通、安全第一
- ✅ **标准工作流程** - 理解→分析→评估→执行→确认
- ✅ **工作检查清单** - 5项必须确认的检查项
- ✅ **工具使用要求** - 明确何时必须使用工具验证

#### 📝 规则更新
- ✅ `00-core-principles.md` - **新增**最高优先级核心规则
- ✅ `README.md` - 更新核心特性、规则目录树、版本历史

#### 📚 核心内容
**四大核心原则**:
1. 🔍 **先分析再决定** - 永不假设，必须验证
2. ✅ **验证优先** - 检查现状后再行动
3. 💬 **透明沟通** - 说明分析过程和理由
4. 🔒 **安全第一** - 不确定时选择保守方案

**严格禁止**:
- ❌ 基于假设直接行动
- ❌ 不检查就下结论
- ❌ 跳过验证步骤
- ❌ 隐藏分析过程

#### 🎯 创建原因
- 用户质疑："为什么AI没有先分析再决定？"
- 发现在scripts目录问题上，AI未先检查内容就下结论
- 规则系统缺少通用的"先分析再决定"原则
- 现有规则只针对文件操作，不够全面

#### 💡 设计理念
- 🔴 核心原则优先于所有其他规则
- 🔍 强制要求使用工具验证，不依赖记忆或假设
- 💬 要求AI说明分析过程，提高透明度
- 🔒 不确定时选择保守方案，确保安全

#### 📊 影响范围
- **适用**: AI的**所有操作和决策**
- **优先级**: 🔴 最高优先级，高于所有其他规则
- **效果**: 防止基于假设的错误决策

---

### v1.1.0 (2025-11-26)

**重要更新** ⭐ - 添加知识库标配

#### ✨ 新增功能
- ✅ **知识库目录** - 所有项目标准配置目录
- ✅ **只读规则** - 知识库只允许读取和添加，不允许修改删除
- ✅ **使用指南** - 完整的知识库使用说明和最佳实践
- ✅ **目录重命名** - 从 `owdRD_github_clone_源参考文件` 改为 `知识库`
- ✅ **自动检查机制** - 5种自动执行方式，防止违规操作

#### 📝 规则更新
- 📄 `01-file-operations.md` - 添加知识库特殊规则章节
- 📁 `02-directory-management.md` - 添加知识库目录说明
- ⚙️ `project-config.md` - 添加知识库配置和规则
- 📋 `project-config.example.md` - 模板中添加知识库
- 📚 `README.md` - 添加知识库标配章节 + 自动检查机制章节

#### 📚 新增文件
- ✅ `知识库/README.md` - 知识库使用说明和索引
- ✅ `.windsurfrules/scripts/check_project_structure.py` - 项目结构自动检查脚本
- ✅ `.windsurfrules/scripts/install_git_hooks.py` - Git Hook安装脚本
- ✅ `.windsurfrules/scripts/watch_and_check.py` - 文件监控自动检查脚本
- ✅ `.windsurfrules/scripts/create_scheduled_task.bat` - Windows定时任务创建脚本
- ✅ `检查项目结构.bat` - 手动检查快捷方式
- ✅ `启动文件监控.bat` - 监控启动快捷方式
- ✅ `vscode-tasks-example.json` - VS Code任务配置示例
- ✅ `项目记录/6-开发规范/自动检查机制使用指南.md` - 完整使用文档
- ✅ `项目记录/7-过程记录/2025-11-26_规则系统全面检测报告.md` - 检测报告

#### 🎯 设计理念
- 📌 知识库作为所有项目的标准配置
- 🔒 只读属性确保参考资料的完整性
- 📖 便于溯源和技术知识积累
- 🌐 统一的知识管理方式
- 🤖 自动检查机制防止人工误操作
- ⚡ 多种执行方式适应不同场景
- 🔍 Git Hook确保提交前验证

---

### v1.0.0 (2025-11-26)

**首次发布** 🎉

#### ✨ 新增功能
- ✅ 文件操作强制规则（5步检查流程）
- ✅ 目录管理规范（根目录清洁原则）
- ✅ 文件命名规范（5种文档类型）
- ✅ Git工作流规范（Commit消息规范）
- ✅ 项目配置系统（支持项目定制）
- ✅ 完整的README文档（本文档）
- ✅ Emoji增强文档风格（所有规则使用）
- ✅ Token充足说明（AI不需要节省）

#### 🎯 核心特性
- 🌐 通用性设计，适用任何项目
- 🔧 可配置，支持项目特定规则
- 📚 完整文档，易于理解和使用
- 🚀 快速移植，5分钟配置新项目
- 🎨 Emoji风格，提升可读性

#### ⚠️ 已知限制
- 仅在Windsurf IDE中测试
- 中文文件名兼容性已确认
- 暂无自动化测试

---

## ❓ 常见问题

### Q1: 规则在我的项目中不生效？

**A**: 检查以下几点：
1. `.windsurfrules/` 目录是否在项目根目录
2. `project-config.md` 是否已配置
3. 重启IDE后重试
4. 开始新对话测试

### Q2: 如何禁用某个规则？

**A**: 
- 删除对应的规则文件
- 或重命名为 `.bak` 后缀
- 或在文件开头注明"此规则已禁用"

### Q3: 可以自定义规则优先级吗？

**A**: 
- 文件名前缀数字越小优先级越高
- `01-` > `02-` > `03-` > `04-`
- 可以调整文件名编号

### Q4: 规则太详细了，会不会太慢？

**A**: 
- AI已被告知不需要担心token
- 详细的规则确保AI更准确地理解和执行
- 用户承诺token充足

### Q5: 支持哪些IDE？

**A**: 
- 目前在 Windsurf IDE 中完整测试
- 理论上支持其他AI辅助IDE
- 其他IDE的支持情况未知

### Q6: 如何更新规则？

**A**: 
1. 修改对应的规则文件
2. 更新本README的版本历史
3. 提交到Git
4. 如使用子模块，推送到规则仓库

---

## 💡 最佳实践

### 单人开发项目

**推荐**: 完整复制
- 每个项目独立一份规则
- 可以针对项目定制

### 多项目开发

**推荐**: 共享规则库 + 独立配置
- 通用规则放在一处
- 每个项目单独配置 `project-config.md`

### 团队协作项目

**推荐**: Git子模块
- 规则统一管理
- 版本控制
- 团队同步

---

## 📞 支持与反馈

### 维护者
- **Benson** - 项目创建者

### 反馈渠道
- 项目Issue跟踪
- 团队讨论
- 直接联系维护者

---

## 📄 License

MIT License

Copyright © 2025 Benson

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

---

**最后更新**: 2025-11-26  
**文档版本**: v1.4.0  
**维护状态**: ✅ 活跃维护中  

---

## 🎯 快速参考

### 创建文件前的5问

1. ❓ 这个文件是否已存在？
2. ❓ 文件应该放在哪个目录？
3. ❓ 文件名是否符合规范？
4. ❓ 是否需要创建新目录？
5. ❓ 创建后是否需要更新索引？

### 禁止操作速查

- ❌ 在根目录创建文档文件
- ❌ 使用临时、模糊的文件名
- ❌ 跳过检查直接创建文件
- ❌ 创建超过4层的深层目录
- ❌ 提交代码前不运行测试

### Commit消息模板

```
<type>: <subject>

<body>

<footer>
```

**Type**: feat/fix/docs/style/refactor/perf/test/build/ci/chore/revert

---

**🎉 感谢使用AI开发规范系统！祝您开发顺利！**
