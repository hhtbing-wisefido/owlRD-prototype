---
title: "变更同步规则"
description: "修改后必须同步文档和索引"
trigger: always
---

## 馃搵 鐩綍

- [鏍稿績鍘熷垯](#鏍稿績鍘熷垯)
- [閫傜敤鍦烘櫙](#閫傜敤鍦烘櫙)
- [淇敼鏂囦欢鍚庣殑鍚屾瑕佹眰](#淇敼鏂囦欢鍚庣殑鍚屾瑕佹眰)
- [鍒犻櫎鏂囦欢鍚庣殑鍚屾瑕佹眰](#鍒犻櫎鏂囦欢鍚庣殑鍚屾瑕佹眰)
- [閲嶅懡鍚嶆枃浠跺悗鐨勫悓姝ヨ姹俔(#閲嶅懡鍚嶆枃浠跺悗鐨勫悓姝ヨ姹?
- [妫€鏌ユ竻鍗昡(#妫€鏌ユ竻鍗?
- [涓ユ牸绂佹](#涓ユ牸绂佹)

---

## 馃幆 鏍稿績鍘熷垯

### 鍙樻洿蹇呴』鍚屾

```
浠ｇ爜鍙樻洿 鈫?鏂囨。鍚屾 鈫?绱㈠紩鏇存柊 鈫?鍥㈤槦閫氱煡
```

**鏍稿績鐞嗗康**:
- 馃挕 **鏂囨。鏄唬鐮佺殑涓€閮ㄥ垎** - 淇敼浠ｇ爜=淇敼鏂囨。
- 馃攧 **淇濇寔涓€鑷存€?* - 浠讳綍鍙樻洿閮借淇濇寔绯荤粺涓€鑷?- 馃摙 **閫忔槑娌熼€?* - 淇敼瑕佽鍥㈤槦鐭ラ亾
- 鉁?**瀹屾暣鎬ф鏌?* - 纭鎵€鏈夌浉鍏冲唴瀹瑰凡鏇存柊

---

## 馃摎 閫傜敤鍦烘櫙

### 浣曟椂闇€瑕佸悓姝ユ洿鏂帮紵

| 鎿嶄綔绫诲瀷 | 闇€瑕佸悓姝?| 鍘熷洜 |
|---------|---------|------|
| 鉁忥笍 淇敼鏂囦欢鍐呭 | 鉁?蹇呴』 | 鍔熻兘鏀瑰彉闇€瑕佹洿鏂版枃妗?|
| 鉂?鍒犻櫎鏂囦欢 | 鉁?蹇呴』 | 绱㈠紩闇€瑕佺Щ闄?|
| 馃摑 閲嶅懡鍚嶆枃浠?| 鉁?蹇呴』 | 鎵€鏈夊紩鐢ㄩ渶瑕佹洿鏂?|
| 馃搧 绉诲姩鏂囦欢 | 鉁?蹇呴』 | 璺緞鍙樻洿闇€瑕佸悓姝?|
| 馃啎 娣诲姞鏂板姛鑳?| 鉁?蹇呴』 | README闇€瑕佽鏄?|
| 馃悰 淇Bug | 鈿狅笍 瑙嗘儏鍐?| 濡傚奖鍝嶄娇鐢ㄩ渶鏇存柊 |
| 鈾伙笍 閲嶆瀯浠ｇ爜 | 鈿狅笍 瑙嗘儏鍐?| 濡侫PI鏀瑰彉闇€鏇存柊 |
| 馃拕 鏍峰紡璋冩暣 | 鉂?閫氬父涓嶉渶瑕?| 涓嶅奖鍝嶅姛鑳?|

---

## 鉁忥笍 淇敼鏂囦欢鍚庣殑鍚屾瑕佹眰

### 鍦烘櫙1: 淇敼鍔熻兘浠ｇ爜

**瑙﹀彂鏉′欢**:
- 淇敼浜嗗嚱鏁扮鍚?- 淇敼浜咥PI鎺ュ彛
- 淇敼浜嗛厤缃牸寮?- 淇敼浜嗕娇鐢ㄦ柟寮?
**蹇呴』鏇存柊**:

#### 1. 浠ｇ爜娉ㄩ噴
```python
# 鏃ф敞閲婏紙闇€瑕佹洿鏂帮級
def process_data(data):
    """澶勭悊鏁版嵁"""
    
# 鏂版敞閲婏紙宸叉洿鏂帮級
def process_data(data, format="json"):
    """
    澶勭悊鏁版嵁
    
    Args:
        data: 杈撳叆鏁版嵁
        format: 杈撳嚭鏍煎紡锛屾敮鎸?'json' 鎴?'xml'锛堟柊澧炲弬鏁帮級
    """
```

#### 2. README.md
```markdown
# 鏃EADME锛堥渶瑕佹洿鏂帮級
## 浣跨敤鏂规硶
process_data(data)

# 鏂癛EADME锛堝凡鏇存柊锛?## 浣跨敤鏂规硶
process_data(data, format="json")  # 鏂板format鍙傛暟
```

#### 3. API鏂囨。
- 鏇存柊鍙傛暟璇存槑
- 鏇存柊绀轰緥浠ｇ爜
- 鏇存柊杩斿洖鍊艰鏄?
#### 4. CHANGELOG.md
```markdown
## [Unreleased]
### Changed
- `process_data()` 鏂板 `format` 鍙傛暟锛屾敮鎸丣SON鍜孹ML杈撳嚭
```

---

### 鍦烘櫙2: 淇敼閰嶇疆鏂囦欢

**瑙﹀彂鏉′欢**:
- 淇敼浜嗛厤缃」
- 淇敼浜嗛粯璁ゅ€?- 娣诲姞浜嗘柊閰嶇疆

**蹇呴』鏇存柊**:

#### 1. 閰嶇疆鏂囨。
```markdown
# config.md

## 閰嶇疆椤?
### database.host (宸叉洿鏂?
- 绫诲瀷: string
- 榛樿鍊? "localhost" 鈫?"127.0.0.1" (宸蹭慨鏀?
- 璇存槑: 鏁版嵁搴撳湴鍧€
```

#### 2. 閰嶇疆绀轰緥
```yaml
# config.example.yml
database:
  host: "127.0.0.1"  # 宸叉洿鏂伴粯璁ゅ€?```

#### 3. README.md
- 鏇存柊閰嶇疆璇存槑閮ㄥ垎
- 鏇存柊蹇€熷紑濮嬫寚鍗?
---

### 鍦烘櫙3: 淇敼鏂囨。鍐呭

**瑙﹀彂鏉′欢**:
- 淇敼浜嗘妧鏈鏄?- 淇浜嗛敊璇俊鎭?- 鏇存柊浜嗘搷浣滄楠?
**蹇呴』鏇存柊**:

#### 1. 鐖剁洰褰昍EADME绱㈠紩
```markdown
# 鏃х储寮?- [閮ㄧ讲鎸囧崡](deployment.md) - 濡備綍閮ㄧ讲搴旂敤

# 鏂扮储寮曪紙濡傛灉淇敼浜嗘枃妗ｄ富棰橈級
- [閮ㄧ讲鎸囧崡](deployment.md) - Docker鍜孠8s閮ㄧ讲鏂规硶锛堝凡鏇存柊锛?```

#### 2. 鐩稿叧寮曠敤
- 妫€鏌ュ叾浠栨枃妗ｄ腑鐨勯摼鎺?- 妫€鏌ヤ唬鐮佹敞閲婁腑鐨勫紩鐢?- 妫€鏌ssue/PR涓殑寮曠敤

---

## 鉂?鍒犻櫎鏂囦欢鍚庣殑鍚屾瑕佹眰

### 蹇呴』鎵ц鐨勬搷浣?
#### 1. 浠嶳EADME绱㈠紩涓Щ闄?鉁?
```markdown
# 鍒犻櫎鍓?- [鏃у姛鑳借鏄嶿(old-feature.md)
- [鏂板姛鑳借鏄嶿(new-feature.md)

# 鍒犻櫎鍚?- [鏂板姛鑳借鏄嶿(new-feature.md)  # 宸茬Щ闄ゆ棫鍔熻兘
```

#### 2. 妫€鏌ュ苟鏇存柊鎵€鏈夊紩鐢?鉁?
**鎼滅储鍛戒护**:
```bash
# 鎼滅储鏂囨。寮曠敤
grep -r "old-feature" .

# 鎼滅储浠ｇ爜寮曠敤
grep -r "old_feature" src/
```

**鏇存柊寮曠敤**:
- 绉婚櫎澶辨晥閾炬帴
- 娣诲姞鏇夸唬璇存槑锛堝鏈夛級
- 鎴栨坊鍔?宸插簾寮?鏍囪

#### 3. 鏇存柊鐩稿叧鏂囨。 鉁?
濡傛灉鍒犻櫎鐨勬枃浠舵槸鏌愪釜娴佺▼鐨勪竴閮ㄥ垎锛?```markdown
# 娴佺▼鏂囨。闇€瑕佹洿鏂?
鏃ф祦绋?
1. 閰嶇疆鐜
2. 杩愯old-feature  鈫?闇€瑕佸垹闄?3. 楠岃瘉缁撴灉

鏂版祦绋?
1. 閰嶇疆鐜
2. 楠岃瘉缁撴灉  鈫?娴佺▼绠€鍖?```

#### 4. 娣诲姞鍒犻櫎璇存槑 鉁?
鍦–HANGELOG.md涓褰?
```markdown
## [Unreleased]
### Removed
- 绉婚櫎 `old-feature.md` - 鍔熻兘宸插悎骞跺埌 `new-feature.md`
```

---

## 馃摑 閲嶅懡鍚嶆枃浠跺悗鐨勫悓姝ヨ姹?
### 蹇呴』鎵ц鐨勬搷浣?
#### 1. 浣跨敤Git rename淇濈暀鍘嗗彶 鉁?
```bash
# 姝ｇ‘鍋氭硶
git mv old-name.md new-name.md

# 閿欒鍋氭硶锛堜細涓㈠け鍘嗗彶锛?rm old-name.md
create new-name.md
```

#### 2. 鍏ㄥ眬鎼滅储鏇存柊寮曠敤 鉁?
**鏂囨。寮曠敤**:
```bash
# 鎼滅储Markdown閾炬帴
grep -r "old-name.md" .

# 鎵归噺鏇挎崲
find . -name "*.md" -exec sed -i 's/old-name\.md/new-name.md/g' {} +
```

**浠ｇ爜寮曠敤**:
```bash
# 鎼滅储import璇彞
grep -r "from old_module" src/

# 鎼滅储鏂囨。閾炬帴
grep -r "old-name" docs/
```

#### 3. 鏇存柊README绱㈠紩 鉁?
```markdown
# 鏃х储寮?- [鏃у悕绉癩(old-name.md)

# 鏂扮储寮?- [鏂板悕绉癩(new-name.md)  # 宸查噸鍛藉悕
```

#### 4. 鏇存柊椤圭洰閰嶇疆 鉁?
濡傛灉鏂囦欢鍦ㄩ厤缃腑琚紩鐢細
```json
{
  "docs": [
    "old-name.md"  鈫?"new-name.md"
  ]
}
```

#### 5. 閫氱煡鍥㈤槦 鉁?
鍦≒R鎴朿ommit message涓鏄庯細
```
refactor: rename old-name.md to new-name.md

閲嶅懡鍚嶅師鍥? 鏇村噯纭弽鏄犲唴瀹?
褰卞搷:
- 鏇存柊浜嗘墍鏈夋枃妗ｉ摼鎺?- 鏇存柊浜哛EADME绱㈠紩
- 鏇存柊浜嗛」鐩厤缃?```

---

## 鉁?妫€鏌ユ竻鍗?
### 淇敼鏂囦欢鍚庣殑妫€鏌ユ竻鍗?
**浠ｇ爜淇敼**:
- [ ] 浠ｇ爜娉ㄩ噴宸叉洿鏂?- [ ] README.md宸叉洿鏂?- [ ] API鏂囨。宸叉洿鏂帮紙濡傞€傜敤锛?- [ ] 绀轰緥浠ｇ爜宸叉洿鏂?- [ ] CHANGELOG.md宸叉洿鏂?- [ ] 鍗曞厓娴嬭瘯宸叉洿鏂帮紙濡傞渶瑕侊級

**閰嶇疆淇敼**:
- [ ] 閰嶇疆鏂囨。宸叉洿鏂?- [ ] 閰嶇疆绀轰緥宸叉洿鏂?- [ ] 榛樿鍊艰鏄庡凡鏇存柊
- [ ] README閰嶇疆绔犺妭宸叉洿鏂?
**鏂囨。淇敼**:
- [ ] 绱㈠紩宸叉洿鏂帮紙濡傛爣棰樻敼鍙橈級
- [ ] 鐩稿叧寮曠敤宸叉鏌?- [ ] 杩囨椂閾炬帴宸茬Щ闄?
---

### 鍒犻櫎鏂囦欢鍚庣殑妫€鏌ユ竻鍗?
- [ ] README绱㈠紩宸茬Щ闄よ鏂囦欢
- [ ] 鎼滅储骞剁Щ闄ゆ墍鏈夊紩鐢?- [ ] 鐩稿叧娴佺▼鏂囨。宸叉洿鏂?- [ ] CHANGELOG.md宸茶褰曞垹闄?- [ ] 鏇夸唬鏂规宸茶鏄庯紙濡傛湁锛?
---

### 閲嶅懡鍚嶆枃浠跺悗鐨勬鏌ユ竻鍗?
- [ ] 浣跨敤git mv淇濈暀鍘嗗彶
- [ ] 鍏ㄥ眬鎼滅储骞舵洿鏂版枃妗ｅ紩鐢?- [ ] 鍏ㄥ眬鎼滅储骞舵洿鏂颁唬鐮佸紩鐢?- [ ] README绱㈠紩宸叉洿鏂?- [ ] 椤圭洰閰嶇疆宸叉洿鏂?- [ ] CHANGELOG.md宸茶褰曢噸鍛藉悕
- [ ] 鍥㈤槦宸查€氱煡

---

## 馃毇 涓ユ牸绂佹

### 缁濆涓嶅厑璁哥殑鎿嶄綔

#### 1. 鉂?淇敼浠ｇ爜浣嗕笉鏇存柊鏂囨。

**閿欒绀轰緥**:
```python
# 淇敼浜嗕唬鐮?def process(data, format="json"):  # 鏂板鍙傛暟
    pass

# 浣哛EADME杩樻槸鏃х殑
README.md: "浣跨敤 process(data)"  鉂?鏈洿鏂?```

**鍚庢灉**:
- 鐢ㄦ埛鍥版儜
- 娴垂鏃堕棿璋冭瘯
- 鎶€鏈€哄姟绱Н

---

#### 2. 鉂?鍒犻櫎鏂囦欢浣嗕笉绉婚櫎寮曠敤

**閿欒绀轰緥**:
```bash
# 鍒犻櫎浜嗘枃浠?rm old-feature.md

# 浣哛EADME杩樺湪寮曠敤
README.md: "鏌ョ湅 [鏃у姛鑳絔(old-feature.md)"  鉂?澶辨晥閾炬帴
```

**鍚庢灉**:
- 404閾炬帴
- 鐢ㄦ埛浣撻獙宸?- 椤圭洰鏄惧緱涓嶄笓涓?
---

#### 3. 鉂?閲嶅懡鍚嶆枃浠朵絾涓嶆洿鏂板紩鐢?
**閿欒绀轰緥**:
```bash
# 閲嶅懡鍚嶄簡鏂囦欢
git mv api.md api-reference.md

# 浣嗗叾浠栨枃妗ｈ繕鍦ㄧ敤鏃у悕
guide.md: "鍙傝€?[API鏂囨。](api.md)"  鉂?澶辨晥閾炬帴
```

**鍚庢灉**:
- 鏂囨。鐮寸
- 淇℃伅瀛ゅ矝
- 缁存姢鍥伴毦

---

#### 4. 鉂?淇敼閰嶇疆浣嗕笉鏇存柊绀轰緥

**閿欒绀轰緥**:
```yaml
# config.yml 鏀逛簡
database:
  host: "127.0.0.1"  # 鏀逛簡榛樿鍊?
# 浣?config.example.yml 娌℃敼
database:
  host: "localhost"  鉂?涓嶄竴鑷?```

**鍚庢灉**:
- 閰嶇疆閿欒
- 閮ㄧ讲澶辫触
- 鐢ㄦ埛鍥版儜

---

## 馃攧 鍚屾鏇存柊娴佺▼

### 鏍囧噯娴佺▼

```
1. 杩涜淇敼
    鈫?2. 妫€鏌ュ奖鍝嶈寖鍥?    鈹溾攢 浠ｇ爜娉ㄩ噴
    鈹溾攢 README.md
    鈹溾攢 API鏂囨。
    鈹溾攢 閰嶇疆鏂囨。
    鈹斺攢 CHANGELOG.md
    鈫?3. 閫愪竴鏇存柊
    鈹溾攢 鏇存柊娉ㄩ噴
    鈹溾攢 鏇存柊README
    鈹溾攢 鏇存柊API鏂囨。
    鈹溾攢 鏇存柊閰嶇疆绀轰緥
    鈹斺攢 鏇存柊CHANGELOG
    鈫?4. 鍏ㄥ眬鎼滅储楠岃瘉
    鈹溾攢 grep 妫€鏌ュ紩鐢?    鈹溾攢 妫€鏌ラ摼鎺ユ湁鏁堟€?    鈹斺攢 纭娌℃湁閬楁紡
    鈫?5. 鎻愪氦鏇存敼
    鈹溾攢 璇︾粏鐨刢ommit message
    鈹溾攢 璇存槑淇敼鍐呭鍜屽奖鍝?    鈹斺攢 鍒楀嚭鏇存柊鐨勬枃妗?    鈫?6. 閫氱煡鍥㈤槦
    鈹溾攢 PR涓鏄庡彉鏇?    鈹溾攢 閲嶈鍙樻洿鍙戦€氱煡
    鈹斺攢 鏇存柊鍥㈤槦鏂囨。
```

---

## 馃搳 瀹為檯绀轰緥

### 绀轰緥1: 淇敼API鎺ュ彛

**鍦烘櫙**: 涓?`create_user()` 娣诲姞 `role` 鍙傛暟

**闇€瑕佹洿鏂?*:

#### 1. 浠ｇ爜娉ㄩ噴
```python
# 鏃т唬鐮?def create_user(username, email):
    """鍒涘缓鐢ㄦ埛"""

# 鏂颁唬鐮?def create_user(username, email, role="user"):
    """
    鍒涘缓鐢ㄦ埛
    
    Args:
        username: 鐢ㄦ埛鍚?        email: 閭
        role: 鐢ㄦ埛瑙掕壊锛岄粯璁や负 "user"锛堟柊澧烇級
    """
```

#### 2. API鏂囨。
```markdown
# api.md

## POST /api/users

### 鍙傛暟
- username (string, 蹇呴渶)
- email (string, 蹇呴渶)
- role (string, 鍙€? - 鐢ㄦ埛瑙掕壊锛岄粯璁?"user" 猸?鏂板
```

#### 3. README.md
```markdown
# README.md

## 鍒涘缓鐢ㄦ埛

python
user = create_user(
    username="john",
    email="john@example.com",
    role="admin"  # 鍙€夛紝榛樿涓?"user" 猸?鏂板
)
```

#### 4. CHANGELOG.md
```markdown
## [Unreleased]
### Added
- `create_user()` 鏂板 `role` 鍙傛暟锛屾敮鎸佸垱寤轰笉鍚岃鑹茬殑鐢ㄦ埛
```

---

### 绀轰緥2: 鍒犻櫎搴熷純鍔熻兘

**鍦烘櫙**: 鍒犻櫎 `legacy-auth.md` 鏂囨。

**闇€瑕佹墽琛?*:

#### 1. 鍒犻櫎鏂囦欢
```bash
git rm docs/legacy-auth.md
```

#### 2. 浠嶳EADME绉婚櫎
```markdown
# docs/README.md

# 鏃х储寮?- [璁よ瘉绯荤粺](auth.md)
- [鏃х増璁よ瘉](legacy-auth.md) 鈫?鍒犻櫎杩欒
- [鏉冮檺绠＄悊](permissions.md)

# 鏂扮储寮?- [璁よ瘉绯荤粺](auth.md)
- [鏉冮檺绠＄悊](permissions.md)
```

#### 3. 鎼滅储寮曠敤
```bash
grep -r "legacy-auth" .
```

#### 4. 鏇存柊鐩稿叧鏂囨。
```markdown
# migration-guide.md

## 璁よ瘉绯荤粺鍗囩骇

鏃х増璁よ瘉绯荤粺宸插簾寮冿紝璇峰弬鑰?[鏂扮増璁よ瘉](auth.md)
```

#### 5. 璁板綍CHANGELOG
```markdown
## [Unreleased]
### Removed
- 绉婚櫎 `legacy-auth.md` - 鏃х増璁よ瘉宸插畬鍏ㄥ簾寮?- 鎵€鏈夐」鐩簲浣跨敤鏂扮増璁よ瘉绯荤粺
```

---

## 馃幆 鏈€浣冲疄璺?
### 1. 鍘熷瓙鎬у彉鏇?
**涓€娆℃彁浜ゅ寘鍚?*:
- 鉁?浠ｇ爜淇敼
- 鉁?鏂囨。鏇存柊
- 鉁?娴嬭瘯鏇存柊
- 鉁?CHANGELOG鏇存柊

**浼樼偣**:
- 淇濇寔涓€鑷存€?- 鏄撲簬鍥炴粴
- 娓呮櫚鐨勫彉鏇村巻鍙?
---

### 2. 浣跨敤宸ュ叿杈呭姪

**妫€鏌ラ摼鎺ユ湁鏁堟€?*:
```bash
# markdown-link-check
npx markdown-link-check docs/**/*.md
```

**鎼滅储寮曠敤**:
```bash
# 鎼滅储鏂囦欢寮曠敤
rg "filename" --type md

# 鎼滅储鍑芥暟寮曠敤
rg "function_name" --type py
```

---

### 3. Code Review妫€鏌?
**Review鏃剁‘璁?*:
- [ ] 鎵€鏈夋枃妗ｅ凡鏇存柊
- [ ] 娌℃湁澶辨晥閾炬帴
- [ ] CHANGELOG宸叉洿鏂?- [ ] 绀轰緥浠ｇ爜鍙繍琛?
---

## 鉂?甯歌闂

### Q1: 灏忎慨鏀逛篃瑕佹洿鏂版枃妗ｅ悧锛?
**A**: 鐪嬪奖鍝嶈寖鍥?
**闇€瑕佹洿鏂?*:
- 鉁?API鎺ュ彛鏀瑰彉
- 鉁?閰嶇疆鏍煎紡鏀瑰彉
- 鉁?浣跨敤鏂瑰紡鏀瑰彉
- 鉁?鍙傛暟鍚箟鏀瑰彉

**鍙互涓嶆洿鏂?*:
- 鉁?鍐呴儴瀹炵幇浼樺寲
- 鉁?浠ｇ爜鏍煎紡璋冩暣
- 鉁?鎬ц兘浼樺寲锛堜笉褰卞搷浣跨敤锛?
---

### Q2: 濡備綍纭繚娌℃湁閬楁紡锛?
**A**: 浣跨敤妫€鏌ユ竻鍗?
1. 鉁?杩愯鍏ㄥ眬鎼滅储
2. 鉁?妫€鏌EADME绱㈠紩
3. 鉁?妫€鏌ラ摼鎺ユ湁鏁堟€?4. 鉁?Code Review纭

---

### Q3: CHANGELOG蹇呴』姣忔閮芥洿鏂板悧锛?
**A**: 閲嶈鍙樻洿蹇呴』鏇存柊

**蹇呴』鏇存柊**:
- 鉁?鏂板姛鑳?- 鉁?Breaking Changes
- 鉁?閲嶈Bug淇
- 鉁?API鍙樻洿

**鍙互涓嶆洿鏂?*:
- 鉁?鏂囨。淇
- 鉁?灏忕殑Bug淇
- 鉁?鍐呴儴閲嶆瀯

---

## 馃摎 鐩稿叧瑙勫垯

- **00-core-principles.md** - 鏍稿績宸ヤ綔鍘熷垯
- **01-file-operations.md** - 鏂囦欢鍒涘缓瑙勫垯
- **03-naming-convention.md** - 鏂囦欢閲嶅懡鍚嶈鑼?- **04-git-workflow.md** - Git鎻愪氦瑙勮寖

---

**瑙勫垯鐗堟湰**: v1.0  
**鏈€鍚庢洿鏂?*: 2025-11-26  
**缁存姢鐘舵€?*: 鉁?娲昏穬缁存姢涓?