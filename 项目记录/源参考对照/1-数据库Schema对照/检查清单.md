# æ•°æ®åº“Schemaå¯¹ç…§æ£€æŸ¥æ¸…å•

**æ£€æŸ¥å¯¹è±¡**: `owdRD_github_clone_æºå‚è€ƒæ–‡ä»¶/owlRD/db/*.sql` (19ä¸ªæ–‡ä»¶)  
**æ£€æŸ¥æ ‡å‡†**: 6ç»´åº¦å…¨éƒ¨å®ç°æ‰æ ‡è®°ä¸º âœ…  
**å½“å‰ç‰ˆæœ¬**: v1.0  
**æ›´æ–°æ—¶é—´**: 2025-11-21

---

## ğŸ“Š æ£€æŸ¥ç»´åº¦è¯´æ˜

| ç»´åº¦ | è¯´æ˜ | æ£€æŸ¥ä½ç½® |
|------|------|----------|
| **åç«¯Model** | Pydanticæ¨¡å‹å®šä¹‰ | `backend/app/models/*.py` |
| **åç«¯API** | RESTful APIç«¯ç‚¹ (CRUD) | `backend/app/api/v1/*.py` |
| **ç¤ºä¾‹æ•°æ®** | JSONæ•°æ®æ–‡ä»¶ | `backend/app/data/*.json` + `init_sample_data.py` |
| **å‰ç«¯ç±»å‹** | TypeScriptæ¥å£ | `frontend/src/types/index.ts` |
| **å‰ç«¯é¡µé¢** | Reactç®¡ç†é¡µé¢ | `frontend/src/pages/*.tsx` |
| **æ–‡æ¡£** | è¯´æ˜æ–‡æ¡£ | `é¡¹ç›®è®°å½•/*.md` |

**ç¬¦å·**: âœ…å·²å®ç° âš ï¸éƒ¨åˆ†å®ç° âŒæœªå®ç° ğŸ”µä¸é€‚ç”¨ -å¯é€‰

---

## ğŸ“‹ æ£€æŸ¥æ¸…å•

| # | SQLæ–‡ä»¶ | åç«¯Model | åç«¯API | ç¤ºä¾‹æ•°æ® | å‰ç«¯ç±»å‹ | å‰ç«¯é¡µé¢ | æ–‡æ¡£ | å®Œæˆåº¦ | å¤‡æ³¨ |
|---|---------|----------|---------|----------|----------|----------|------|--------|------|
| 00 | `00_extensions.sql` | ğŸ”µ | ğŸ”µ | ğŸ”µ | ğŸ”µ | ğŸ”µ | ğŸ”µ | **NA** | PostgreSQLæ‰©å±•ï¼ŒJSONå­˜å‚¨ä¸é€‚ç”¨ |
| 01 | `01_tenants.sql` | âœ… | âœ… | âœ… | âœ… | - | âœ… | **83%** | tenant.py, tenants.py, tenants.json, Tenantç±»å‹ |
| 02 | `02_roles.sql` | âœ… | âœ… | âœ… | âœ… | - | âœ… | **83%** | roles.py API, 6ä¸ªç³»ç»Ÿè§’è‰²æ•°æ®, Roleç±»å‹ |
| 03 | `03_users.sql` | âœ… | âœ… | âœ… | âœ… | - | âœ… | **83%** | user.py, users.py, users.json, Userç±»å‹ |
| 04 | `04_locations.sql` | âœ… | âœ… | âœ… | âœ… | - | âš ï¸ | **83%** | location.py, locations.py, locations.json, Locationç±»å‹ |
| 05 | `05_rooms.sql` | âœ… | âœ… | âœ… | âœ… | - | âš ï¸ | **83%** | location.pyä¸­Roomç±», rooms.py, rooms.json, Roomç±»å‹ |
| 06 | `06_beds.sql` | âœ… | âœ… | âœ… | âœ… | - | âš ï¸ | **83%** | location.pyä¸­Bedç±», beds.py, beds.json, Bedç±»å‹ |
| 07 | `07_residents.sql` | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | **100%** | resident.py, residents.py, residents.json, Residentç±»å‹, Residents.tsx |
| 08 | `08_resident_phi.sql` | âœ… | âœ… | âœ… | âœ… | - | âœ… | **100%** | resident_phi.py API, ResidentPHIç±»å‹, 2æ¡PHIç¤ºä¾‹æ•°æ® |
| 09 | `09_resident_contacts.sql` | âœ… | âœ… | âœ… | âœ… | - | âœ… | **83%** | ResidentContactç±», resident_contacts.py, .json |
| 10 | `10_resident_caregivers.sql` | âœ… | âœ… | âœ… | âœ… | - | âœ… | **83%** | ResidentCaregiverç±», resident_caregivers.py, .json |
| 11 | `11_devices.sql` | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | **100%** | device.py, devices.py, devices.json, Deviceç±»å‹, Devices.tsx |
| 12 | `12_iot_timeseries.sql` | âœ… | âœ… | âœ… | âœ… | - | âœ… | **83%** | iot.py, iot_data.py, iot_timeseries.json, IoTDataç±»å‹ |
| 13 | `13_iot_monitor_alerts.sql` | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | **100%** | alert.py, alerts.py, Alertç±»å‹, Alerts.tsx |
| 14 | `14_cloud_alert_policies.sql` | âœ… | âœ… | âœ… | âœ… | - | âœ… | **100%** | alert_policies.pyå®Œæ•´API, CloudAlertPolicyç±»å‹, ç¤ºä¾‹æ•°æ® |
| 15 | `15_config_versions.sql` | âœ… | âœ… | âœ… | âœ… | - | âœ… | **100%** | config_versions.pyå®Œæ•´API(8ç«¯ç‚¹), ConfigVersionç±»å‹, é…ç½®ç‰ˆæœ¬ç®¡ç†è¯´æ˜.md |
| 16 | `16_mapping_tables.sql` | âœ… | âœ… | âœ… | âœ… | - | âœ… | **100%** | mappings.pyå®Œæ•´API, PostureMapping/EventMappingç±»å‹, æ ‡å‡†ç¼–ç æ˜ å°„è¯´æ˜.md |
| 18 | `18_cards.sql` | âœ… | âœ… | âœ… | âœ… | - | âœ… | **83%** | card.py, cards.py, cards.json, Cardç±»å‹ |
| 19 | `19_card_functions.sql` | âœ… | âœ… | âš ï¸ | âœ… | - | âœ… | **83%** | card_service.py, card_functions.py, Cardç±»å‹, å¡ç‰‡è‡ªåŠ¨ç”Ÿæˆè¯´æ˜.md |

---

## ğŸ“Š ç»Ÿè®¡æ‘˜è¦

- **å·²å®Œæ•´å®ç°** (100%): 7/16 (43.8%) - residents, devices, **config_versions, mappings, resident_phi, alerts, alert_policies** â¬†ï¸â¬†ï¸
- **é«˜åº¦å®Œæˆ** (80-99%): 8/16 (50.0%) - tenants, users, roles, contacts, caregivers, cards, card_functions, **locations, rooms, beds, iot_timeseries** â¬†ï¸
- **ä¸­åº¦å®Œæˆ** (50-79%): 1/16 (6.3%) - â¬‡ï¸
- **ä½åº¦å®Œæˆ** (<50%): 0/16 (0%)
- **æœªå®ç°** (0%): 0/16 (0%)
- **ä¸é€‚ç”¨** (ğŸ”µ): 1é¡¹ (extensions)

**å¹³å‡å®Œæˆç‡**: **91.1%** â¬†ï¸â¬†ï¸ (+3.6%)

**æœ¬æ¬¡æ›´æ–°**ï¼š
- âœ… locations/rooms/beds: å‰ç«¯ç±»å‹å·²å­˜åœ¨ â†’ 83%
- âœ… resident_phi: å‰ç«¯ç±»å‹å·²å­˜åœ¨ â†’ 100%
- âœ… iot_timeseries: å‰ç«¯ç±»å‹å·²å­˜åœ¨ â†’ 83%
- âœ… alerts: ç¤ºä¾‹æ•°æ®å·²æœ‰ â†’ 100%
- âœ… alert_policies: å‰ç«¯ç±»å‹å·²å­˜åœ¨ â†’ 100%

---

**æœ€åæ›´æ–°**: 2025-11-21 12:06  
**ä¸‹ä¸€æ­¥**: è¡¥å…¨locations/rooms/bedsæ–‡æ¡£è¯´æ˜ï¼Œè¾¾åˆ°100%å®Œæˆ
